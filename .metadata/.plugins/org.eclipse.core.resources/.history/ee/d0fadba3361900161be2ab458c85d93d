package firstPackage;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
	
public class Main {
	public static void main(String[] args) {
		try {
		    Class.forName( "com.mysql.jdbc.Driver" );
		    getConnection();
		} catch ( ClassNotFoundException e ) {
			e.printStackTrace();
		}
	}
	
	public static void getConnection() {
		String url = "jdbc:mysql://localhost:3306/mydb";
		String user = "root";
		String pass = "GAPP";
		Connection connection = null;
		try {
			connection = DriverManager.getConnection(url, user, pass);
			System.out.println("Bdd Connected");
		    displayDepartment(connection);
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
		    if (connection != null)
		        try {
		        	connection.close();
		        } catch ( SQLException ignore ) {
		        	ignore.printStackTrace();
		        }
		}
	}
	
	public static void displayDepartment(Connection connexion) throws SQLException {
		Statement statement = connexion.createStatement();
		ResultSet resultat = statement.executeQuery( "SELECT CT_name FROM t_courses_t" );
		
		while ( resultat.next() ) {
			String CT_name = resultat.getString( "CT_name" );
			
			System.out.println("Course name : " + CT_name);
		}
		System.out.println("test");
		resultat.close();
	}
}
