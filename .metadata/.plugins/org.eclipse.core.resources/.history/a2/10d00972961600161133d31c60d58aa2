package firstPackage;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.ResultSetMetaData;
import java.sql.SQLException;
import java.sql.Statement;

import com.sdz.bean.Dept;
import com.sdz.dao.DAO;
import com.sdz.dao.implement.DeptDAO;
import com.sdz.bean.CreateAClass;

	
public class TestJDBC {
	
	public static void main(String[] args) {
		try {
		    System.out.println("Essai");
		    Class.forName( "oracle.jdbc.OracleDriver" );
		    getConnection();
		} catch ( ClassNotFoundException e ) {
		    System.out.println("Echec");
		    e.printStackTrace();
		    
		}
	}
	
	public static void getConnection() {
		String url = "jdbc:oracle:thin:[tbeclin/tbeclin]@dbisep.isep.fr:1521:ORCL";
		String user = "tbeclin";
		String pass = "tbeclin";
		Connection connexion = null;
		try {
		    connexion = DriverManager.getConnection( url, user, pass );
		    System.out.println("Bdd Connected");
		    displayDepartment(connexion);
		    moveDepartment(connexion, 7698, 30);
		    displayTable(connexion, "EMP");
		    displayDepartment20(connexion);
		    createAllPOJOsAndDAOs(connexion);
		} catch ( SQLException e ) {
			e.printStackTrace();
		} finally {
		    if ( connexion != null )
		        try {
		            connexion.close();
		        } catch ( SQLException ignore ) {
		        	ignore.printStackTrace();
		        }
		}
	}
}
